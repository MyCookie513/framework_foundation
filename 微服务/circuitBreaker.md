## 熔断器

* 应用背景

  > 在系统使用的高峰期，会对某个微服务的接口进行大量的调用，如果这个微服务被阻塞，大量的请求堆积，如果这个微服务的线程池没有和服务器的主线程池进行隔离，这样就会拖垮整个服务器，引起宕机。
  >
  > Hystrix熔断器采用自己的线程池进行隔离。这样就避免了整个系统的崩溃；
  >
  > 例如：交通运输的一个地方发生了阻塞，这个阻塞点会迅速的反应，这个地方不能走了，请绕路。

* 实现原理

  > 在一个应用程序中，对一个类的一个方法的使用，加上了动态代理增强限制和控制，控制这个方法执行的时间，以及并发情况，控制并发量；超时则会触发此次调用的熔断，多次调用超时会触发一段时间的熔断，一段时间后会再进行重试，看是否恢复正常；

* 配置熔断的时间，但一定要比重试机制设定的时间要长；

  ```yml
  hystrix:
    command:
    	default:
          execution:
            isolation:
              thread:
                timeoutInMillisecond: 6000 # 熔断超时时长：6000ms
  ```

  


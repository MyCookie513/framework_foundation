## mvcc：

> 在事务的执行过程中，原生带有多版本的特性，可能出现 
>
> * 脏读 ： 读取到事务未提交的数据
>
> * 不可重复读： 读取到从事务创建后的改动，update delete 操作
>
> * 幻读： 读取到从事务创建后的改动，insert 操作
>
> 利用 进度快照 和 多版本 可以解决这些问题；并且在写的时候可以进行读；

既然多版本了为啥不能并发写呢？也就是写-写

>  并发写之后提交后可能会出现相互覆盖的情况，也就是说读时大量的旧版本。读太不准确；



#### readView:将进度条进行快照

* 正在进行中的事务id列表
* 正在进行中事务列表中最小的事务id
* 即将分配给下一个事务的id，事务id是自增的
* 生成该`ReadView`的事务的`事务id`

> 避免脏读： 每次读取都要生成一个readview
>
> 避免可重复读问题： 只有第一次读的时候生成一次readview
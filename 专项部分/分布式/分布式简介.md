## 分布式

### CAP定理

* Consistency 一致性 ：所有的数据库的同步问题，保持同一个服务的不同实例的数据库是相同的。
* Availability 可获得性 ：请求的反应时间，可用性在一定的时间内&系统明确返回一个结果；
* Partition Tolerence : http://www.ruanyifeng.com/blog/2018/07/cap.html



> 实质上就三个点： 高可用性，数据的同步问题，系统的反应时间



* **CAP理论告诉我们，在分布式系统中，C、A、P三个条件中我们最多只能选择两个。那么问题来了，究竟选择哪两个条件较为合适呢？**

  + 分区容错性是分布式系统的根本，如果分区容错性不能满足，那使用分布式系统将失去意义。

  + 此外，可用性对业务系统也尤为重要。在大谈用户体验的今天，如果业务系统时常出现“系统异常”、响应时间过长等情况，这使得用户对系统的好感度大打折扣，在互联网行业竞争激烈的今天，相同领域的竞争者不甚枚举，系统的间歇性不可用会立马导致用户流向竞争对手。因此，我们只能通过牺牲一致性来换取系统的可用性和分区容错性。这也就是下面要介绍的BASE理论。

    


​    

### Base定理

* **BA：Basic Available 基本可用**
  + 系统的反应时间可以延长，“一定时间”可以适当延长，当举行大促时，响应时间可以适当延长，给部分用户返回一个降级页面，从而缓解服务器压力。但要注意，返回降级页面仍然是返回明确结果。
* **SE：Eventual Consisstency：最终一致性**
  + 同一数据的不同副本的状态，可以不需要实时一致，但一定要保证经过一定时间后仍然是一致的。